{"version":3,"names":["SPACE_RULE","buildRepetition","itemRule","minItems","maxItems","opts","separatorRule","itemRuleIsLiteral","undefined","result","slice","repeat","Array","from","length","join","optRepetitions","upToN","prefixWithSep","content","trim","itemOperator","SchemaGrammarConverterBuiltinRule","constructor","deps","exports","BuiltinRule","UP_TO_15_DIGITS","PRIMITIVE_RULES","boolean","number","integer","value","object","array","uuid","map","n","_","char","string","null","STRING_FORMAT_RULES","date","time","RESERVED_NAMES","root","INVALID_RULE_CHARS_RE","GRAMMAR_LITERAL_ESCAPE_RE","GRAMMAR_LITERAL_ESCAPES","NON_LITERAL_SET","Set","ESCAPED_IN_REGEXPS_BUT_NOT_IN_LITERALS","formatLiteral","literal","escaped","replace","m","generateConstantRule","JSON","stringify","groupBy","iterable","keyFn","lastKey","group","element","key","push","SchemaGrammarConverter","options","_propOrder","prop_order","_allowFetch","allow_fetch","_dotall","dotall","_rules","space","_refs","_refsBeingResolved","_addRule","name","rule","escName","i","resolveRefs","schema","url","visit","isArray","Promise","all","ref","$ref","target","startsWith","Error","fragSplit","split","baseUrl","fetch","then","res","json","selectors","sel","Object","values","_generateUnionRule","altSchemas","altSchema","_visitPattern","pattern","endsWith","subRuleIds","getDot","toRule","s","isLiteral","transform","start","seq","joinSeq","ret","g","x","c","squareBrackets","curlyBrackets","nums","minTimes","maxTimes","parseInt","Infinity","sub","subIsLiteral","id","keys","next","has","_resolveRef","refName","pop","add","resolved","delete","schemaType","type","schemaFormat","format","isRoot","ruleName","oneOf","anyOf","t","const","enum","v","additionalProperties","required","properties","entries","_buildObjectRule","addComponent","compSchema","isRequired","propName","propSchema","allOf","tt","items","prefixItems","rules","item","itemRuleName","test","_addPrimitive","primName","charRuleName","minLen","minLength","maxLen","maxLength","dep","depRule","propOrder","sortedProps","k","sort","a","b","orderA","orderB","findIndex","propKvRuleNames","propRuleName","requiredProps","filter","optionalProps","subName","valueRule","getRecursiveRefs","ks","firstIsOptional","rest","kvRuleName","formatGrammar","grammar","localeCompare","convertJsonSchemaToGrammar","allowFetch","converter"],"sourceRoot":"../../src","sources":["grammar.ts"],"mappings":"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","ignoreList":[]}
